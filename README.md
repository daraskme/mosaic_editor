# Mosaic Editor

PythonとTkinterで作られた画像モザイク編集ツールです。
指定した領域にモザイクをかけたり、ブラシで直感的に編集することができます。

## 主な機能

*   **ペン/消しゴム**: ブラシを使って手書き感覚で編集 (ブラシサイズ変更可能)
*   **魔法の杖**: 色の類似度に基づいて範囲を選択し、一括でモザイク化 (許容値調整可能)
*   **モザイク強度**: モザイクの粗さをスライダーで調整可能
*   **ズーム/パン**: 画像の拡大縮小と移動が可能

## 必要要件

*   Python 3.x
*   依存ライブラリ (requirements.txt):
    *   Pillow
    *   numpy
    *   opencv-python
    *   tkinter (標準ライブラリ)

## インストールと実行

### 自動セットアップ (推奨)

付属のスクリプトを使用すると、仮想環境(venv)の作成から依存ライブラリのインストール、実行までを自動で行えます。

**Windows**:
`mosaic.bat` をダブルクリックするか、フォルダや画像をドラッグ＆ドロップして起動できます。

**Linux / Mac**:
```bash
chmod +x mosaic.sh
./mosaic.sh
```

### 手動セットアップ

**Windows**:
```cmd
:: 仮想環境の作成
python -m venv venv
venv\Scripts\activate

:: 依存関係のインストール
pip install -r requirements.txt

:: アプリケーションの実行
python mosaic.py
```

**Linux / Mac**:
```bash
# 仮想環境の作成
python3 -m venv venv
source venv/bin/activate

# 依存関係のインストール
pip install -r requirements.txt

# アプリケーションの実行
python3 mosaic.py
```

## 使い方

1.  **起動**: スクリプトを実行するか `python3 mosaic.py` で起動します。
2.  **画像の読み込み**:
    *   メニューの「ファイル」>「画像を開く」または「フォルダを開く」から選択します。
    *   実行時にファイルパスやフォルダパスを引数として渡すことも可能です: `./mosaic.sh path/to/image.jpg`
3.  **編集モード**:
    *   **ペン**: ドラッグしてなぞった部分にモザイクをかけます。
    *   **魔法の杖**: クリックした地点の色に近い領域を検出し、「魔法の杖適用」ボタンでモザイク化します。
    *   **消しゴム**: 元の画像に戻します。
4.  **設定**:
    *   **ブラシサイズ**: ペンや消しゴムの太さを変更します。
    *   **モザイク強度**: モザイクのサイズを変更します。
    *   **許容値**: 魔法の杖の色判定の厳しさを調整します。
5.  **操作**:
    *   **ズーム**: `+` / `-` ボタン、または `Ctrl` + マウスホイール。
    *   **移動**: マウスの中ボタン(ホイール)ドラッグで画像を移動できます。
    *   **ペン**: 左クリックドラッグ。
6.  **保存**:
    *   「ファイル」>「保存」で、元のファイル名と同じ場所に `_mc` フォルダが作成され、そこに保存されます。
